<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <!-- title -->
    <title>Burgerkha</title>

    <!-- google font -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap"
      rel="stylesheet"
    />
    <!-- fontawesome -->
    <link rel="stylesheet" href="assets/css/all.min.css" />
    <!-- bootstrap -->
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
    <!-- owl carousel -->
    <link rel="stylesheet" href="assets/css/owl.carousel.css" />
    <!-- magnific popup -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css" />
    <!-- animate css -->
    <link rel="stylesheet" href="assets/css/animate.css" />
    <!-- mean menu css -->
    <link rel="stylesheet" href="assets/css/meanmenu.min.css" />
    <!-- main style -->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!-- responsive -->
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.5/js.cookie.min.js"></script>
  </head>
  <body>
    <!--PreLoader-->
    <div class="loader">
      <div class="loader-inner">
        <div class="circle"></div>
      </div>
    </div>
    <!--PreLoader Ends-->

    <!-- header -->
    <div class="top-header-area" id="sticker">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-sm-12 text-center">
            <div class="main-menu-wrap">
              <!-- logo -->
              <div class="site-logo">
                <a href="index.html">
                  <img src="assets/img/logoburgerkha.png" alt="" />
                </a>
              </div>
              <!-- logo -->

              <!-- menu start -->
              <nav class="main-menu">
                <ul>
                  <li>
                    <div class="header-icons">
                      <a class="shopping-cart" href="cart.html"
                        ><i class="fas fa-shopping-cart"></i
                      ></a>
                      <a id="protectedAuth" href="login.html"
                        ><i class="bi bi-person-fill"></i
                      ></a>
                      <span
                        style="font-weight: bold; color: white"
                        id="displayName"
                      ></span>

                      <a
                        onclick="handleLogout()"
                        style="
                          font-weight: bold;
                          color: white;
                          font-size: 20px;
                          padding-top: 6px;
                        "
                        id="logoutButton"
                        ><i class="bi bi-box-arrow-right"></i
                      ></a>
                    </div>
                  </li>
                </ul>
              </nav>
              <a class="mobile-show search-bar-icon" href="#"
                ><i class="fas fa-search"></i
              ></a>
              <div class="mobile-menu"></div>
              <!-- menu end -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end header -->

    <!-- hero area -->
    <div class="hero-area hero-bg">
      <div class="container">
        <div class="row">
          <div class="col-lg-9 offset-lg-2 text-center">
            <div class="hero-text">
              <div class="hero-text-tablecell">
                <p class="subtitle">Fresh & Tasty</p>
                <h1>Delicious Fast Food</h1>
                <div class="hero-btns">
                  <a href="shop.html" class="boxed-btn">Food Collection</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end hero area -->

    <!-- features list section -->
    <div class="list-section pt-80 pb-80">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
            <div class="list-box d-flex align-items-center">
              <div class="list-icon">
                <i class="fas fa-shipping-fast"></i>
              </div>
              <div class="content">
                <h3>üçîFree Delivery</h3>
                <p>Get your food in under 30 minutes!</p>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
            <div class="list-box d-flex align-items-center">
              <div class="list-icon">
                <i class="fas fa-phone-volume"></i>
              </div>
              <div class="content">
                <h3>üìû24/7 Customer Support</h3>
                <p>We‚Äôre here anytime you need!</p>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div
              class="list-box d-flex justify-content-start align-items-center"
            >
              <div class="list-icon">
                <i class="fas fa-sync"></i>
              </div>
              <div class="content">
                <h3>üîÑ Easy Returns</h3>
                <p>Get a refund or replacement if not satisfied!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end features list section -->

    <!-- product section -->
    <div class="product-section mt-150 mb-150">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 offset-lg-2 text-center">
            <div class="section-title">
              <h3><span class="orange-text">Our</span> Products</h3>
            </div>
          </div>
        </div>

        <div class="row" id="list-menu-items"></div>
      </div>
    </div>
    <!-- end product section -->

    <!-- cart banner section -->
    <section class="cart-banner pt-100 pb-100">
      <div class="container">
        <div class="row clearfix">
          <!--Image Column-->
          <div class="image-column col-lg-6">
            <div class="image">
              <div class="price-box">
                <div class="inner-price">
                  <span class="price">
                    <strong>30%</strong> <br />
                    off
                  </span>
                </div>
              </div>
              <img src="assets/img/splash-bg-1.PNG" alt="" />
            </div>
          </div>
          <!--Content Column-->
          <div class="content-column col-lg-6">
            <h3><span class="orange-text">Deal</span> of the month</h3>
            <h4>Double Cheeseburger</h4>
            <div class="text">
              Quisquam minus maiores repudiandae nobis, minima saepe id, fugit
              ullam similique! Beatae, minima quisquam molestias facere ea.
              Perspiciatis unde omnis iste natus error sit voluptatem accusant
            </div>
            <!--Countdown Timer-->
            <div class="time-counter">
              <div class="time-countdown clearfix" data-countdown="2020/2/01">
                <div class="counter-column">
                  <div class="inner"><span class="count">00</span>Days</div>
                </div>
                <div class="counter-column">
                  <div class="inner"><span class="count">00</span>Hours</div>
                </div>
                <div class="counter-column">
                  <div class="inner"><span class="count">00</span>Mins</div>
                </div>
                <div class="counter-column">
                  <div class="inner"><span class="count">00</span>Secs</div>
                </div>
              </div>
            </div>
            <a href="cart.html" class="cart-btn mt-3"
              ><i class="fas fa-shopping-cart"></i> Add to Cart</a
            >
          </div>
        </div>
      </div>
    </section>
    <!-- end cart banner section -->

    <!-- testimonail-section -->
    <div class="testimonail-section mt-150 mb-150">
      <div class="container">
        <div class="row">
          <div class="col-lg-10 offset-lg-1 text-center">
            <div class="testimonial-sliders">
              <div class="single-testimonial-slider">
                <div class="client-avater">
                  <img src="assets/img/avaters/avatar1.png" alt="" />
                </div>
                <div class="client-meta">
                  <h3>Saira Hakim <span>Local shop owner</span></h3>
                  <p class="testimonial-body">
                    " Sed ut perspiciatis unde omnis iste natus error veritatis
                    et quasi architecto beatae vitae dict eaque ipsa quae ab
                    illo inventore Sed ut perspiciatis unde omnis iste natus
                    error sit voluptatem accusantium "
                  </p>
                  <div class="last-icon">
                    <i class="fas fa-quote-right"></i>
                  </div>
                </div>
              </div>
              <div class="single-testimonial-slider">
                <div class="client-avater">
                  <img src="assets/img/avaters/avatar2.png" alt="" />
                </div>
                <div class="client-meta">
                  <h3>David Niph <span>Local shop owner</span></h3>
                  <p class="testimonial-body">
                    " Sed ut perspiciatis unde omnis iste natus error veritatis
                    et quasi architecto beatae vitae dict eaque ipsa quae ab
                    illo inventore Sed ut perspiciatis unde omnis iste natus
                    error sit voluptatem accusantium "
                  </p>
                  <div class="last-icon">
                    <i class="fas fa-quote-right"></i>
                  </div>
                </div>
              </div>
              <div class="single-testimonial-slider">
                <div class="client-avater">
                  <img src="assets/img/avaters/avatar3.png" alt="" />
                </div>
                <div class="client-meta">
                  <h3>Jacob Sikim <span>Local shop owner</span></h3>
                  <p class="testimonial-body">
                    " Sed ut perspiciatis unde omnis iste natus error veritatis
                    et quasi architecto beatae vitae dict eaque ipsa quae ab
                    illo inventore Sed ut perspiciatis unde omnis iste natus
                    error sit voluptatem accusantium "
                  </p>
                  <div class="last-icon">
                    <i class="fas fa-quote-right"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end testimonail-section -->

    <!-- shop banner -->
    <section class="shop-banner">
      <div class="container">
        <h3>
          December sale is on! <br />
          with big <span class="orange-text">Discount...</span>
        </h3>
        <div class="sale-percent">
          <span
            >Sale! <br />
            Upto</span
          >50% <span>off</span>
        </div>
        <a class="cart-btn btn-lg">Shop Now</a>
      </div>
    </section>
    <!-- end shop banner -->

    <!-- logo carousel -->
    <div class="logo-carousel-section">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="logo-carousel-inner">
              <div class="single-logo-item">
                <img src="assets/img/company-logos/1.png" alt="" />
              </div>
              <div class="single-logo-item">
                <img src="assets/img/company-logos/2.png" alt="" />
              </div>
              <div class="single-logo-item">
                <img src="assets/img/company-logos/3.png" alt="" />
              </div>
              <div class="single-logo-item">
                <img src="assets/img/company-logos/4.png" alt="" />
              </div>
              <div class="single-logo-item">
                <img src="assets/img/company-logos/5.png" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end logo carousel -->

    <!-- footer -->
    <div class="footer-area">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-md-6">
            <div class="footer-box about-widget">
              <h2 class="widget-title">About us</h2>
              <p>
                Di BURGERKHA, kami berkomitmen untuk menyajikan makanan yang tidak hanya lezat, tetapi juga autentik dan berkualitas tinggi.
                Kami menggunakan bahan-bahan segar dan alami untuk menciptakan hidangan yang benar-benar istimewa.
                Kami percaya bahwa Anda akan merasakan perbedaan dalam setiap gigitan.
              </p>
            </div>
          </div>
          <div class="col-lg-3 col-md-6">
            <div class="footer-box get-in-touch">
              <h2 class="widget-title">Get in Touch</h2>
              <ul>
                <li>Jl. Arjuna Utara No.9, Duri Kepa, Kec. Kb. Jeruk, Kota Jakarta Barat, Daerah Khusus Ibukota Jakarta 11510</li>
                <li>https://www.esaunggul.ac.id/</li>
                <li>(021) 5674223</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- end footer -->
    <script>
      const handleLogout = () => {
        sessionStorage.removeItem("auth");
        window.location.reload();
      };
      $(document).ready(async function () {
        const mappingImage = [
          {
            id: 1,
            img: "assets/img/products/sosis-img-1.PNG",
          },
          ,
          {
            id: 2,
            img: "assets/img/products/burger-img-1.PNG",
          },
          {
            id: 3,
            img: "assets/img/products/fries-img-1.PNG",
          },
          {
            id: 4,
            img: "assets/img/products/soda-img-1.PNG",
          },
          {
            id: 5,
            img: "assets/img/products/dbcb-img-1.PNG",
          },
        ];

        const dataLogin = JSON.parse(sessionStorage.getItem("auth"));
        if (dataLogin) {
          $("#displayName").text(dataLogin.user.nama);
          $("#protectedAuth").hide();
        } else {
          $("#logoutButton").hide();
        }

        try {
          const response = await fetch(
            "https://fast-food-be.vercel.app/master-menu/menu",
            {
              method: "GET",
              headers: { "Content-Type": "application/json" },
            }
          );

          if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
          }

          const dataMenuRes = await response.json();
          $("#list-menu-items").empty();

          toastr.options = {
            closeButton: true,
            progressBar: true,
            positionClass: "toast-top-right",
            timeOut: "3000",
          };

          function formatToIDR(amount) {
            return new Intl.NumberFormat("id-ID", {
              style: "currency",
              currency: "IDR",
            }).format(amount);
          }

          window.addToCart = (button) => {
            try {
              const newItem = $(button).data("menu");
              let cart = Cookies.get("cart")
                ? JSON.parse(Cookies.get("cart"))
                : [];

              const existingItem = cart.find((item) => item.id === newItem.id);
              if (existingItem) {
                existingItem.quantity = (existingItem.quantity || 1) + 1;
              } else {
                newItem.quantity = 1;
                cart.push(newItem);
              }
              Cookies.set("cart", JSON.stringify(cart), {
                expires: 1,
                path: "/",
              });
              toastr.success(`Success add ${newItem.name}`);
            } catch (error) {
              console.error("Error saving to cookies:", error);
            }
          };

          $.each(dataMenuRes, function (index, item) {
            $("#list-menu-items").append(`
              <div class="col-lg-4 col-md-6 text-center">
                  <div class="single-product-item">
                      <div class="product-image">
                          <a href="single-product.html">
                              <img src="${
                                mappingImage?.find((el) => el?.id === item?.id)
                                  ?.img || ""
                              }" alt=""/>
                          </a>
                      </div>
                      <h3>${item?.name || "not found"}</h3>
                      <p class="product-price"><span>${
                        item?.description
                      }</span> ${formatToIDR(item?.price || 0)}</p>
                      <a class="cart-btn" data-menu='${JSON.stringify(
                        item
                      )}' onclick="addToCart(this)">
                          <i class="fas fa-shopping-cart"></i> Add to Cart
                      </a>
                  </div>
              </div>
          `);
          });
        } catch (error) {
          console.error("Error fetching menu:", error);
          $("#list-menu-items").html(
            '<li style="color: red;">Failed to load menu.</li>'
          );
        }
      });
    </script>
    <!-- jquery -->
    <script src="assets/js/jquery-1.11.3.min.js"></script>
    <!-- bootstrap -->
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <!-- count down -->
    <script src="assets/js/jquery.countdown.js"></script>
    <!-- isotope -->
    <script src="assets/js/jquery.isotope-3.0.6.min.js"></script>
    <!-- waypoints -->
    <script src="assets/js/waypoints.js"></script>
    <!-- owl carousel -->
    <script src="assets/js/owl.carousel.min.js"></script>
    <!-- magnific popup -->
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <!-- mean menu -->
    <script src="assets/js/jquery.meanmenu.min.js"></script>
    <!-- sticker js -->
    <script src="assets/js/sticker.js"></script>
    <!-- main js -->
    <script src="assets/js/main.js"></script>
    <script></script>
  </body>
</html>
